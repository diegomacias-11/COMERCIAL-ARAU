{% extends "base.html" %}

{% block title %}Recursos Humanos - Control{% endblock %}

{% block extra_head %}
  <style>
    .kanban-link {
      text-decoration: none;
      color: inherit;
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    }
    .kanban-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.12);
      border-color: #8bc1c9;
    }
    .kanban-board {
      padding-top: 6px;
    }
    .kanban-column-title {
      padding-bottom: 6px;
      border-bottom: 1px solid #c7d5e5;
      margin-bottom: 8px;
    }
    .kanban-kpi-grid {
      display: grid;
      gap: 6px;
    }
    .kanban-kpi-item {
      background: #ffffff;
      border: 1px solid #d4dde7;
      border-radius: 6px;
      padding: 6px 8px;
      font-weight: 600;
      color: #1f2a3d;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08);
      text-align: center;
    }
  </style>
{% endblock %}

{% block content %}
  <section class="kanban-board" aria-label="Control Recursos Humanos">
    {% for area in areas %}
      {% if area == "Comercial" %}
        <a class="kanban-column kanban-link" href="{% url 'recursos_humanos_comercial_control' %}">
          <div class="kanban-column-title">{{ area }}</div>
          {% if kpis_comercial %}
            <div class="kanban-kpi-grid">
              {% for kpi in kpis_comercial %}
                <div class="kanban-kpi-item">{{ kpi.nombre }}</div>
              {% endfor %}
            </div>
          {% else %}
            <div class="kanban-empty">Sin KPIs</div>
          {% endif %}
        </a>
      {% else %}
        <div class="kanban-column">
          <div class="kanban-column-title">{{ area }}</div>
          <div class="kanban-empty">Sin datos</div>
        </div>
      {% endif %}
    {% endfor %}
  </section>
{% endblock %}
