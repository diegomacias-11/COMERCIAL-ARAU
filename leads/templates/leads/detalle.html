{% extends "form.html" %}

{% block title %}Detalle lead{% endblock %}

{% block back_link %}
  <section class="filter-container">
    <a href="{{ back_url }}" class="btn-filter btn-volver">Volver</a>
  </section>
{% endblock %}

{% block extra_actions %}
  <button type="submit" class="btn-delete" formaction="{% url 'leads_metalead_delete' lead.id %}" formmethod="post" onclick="return confirm('¿Eliminar este lead?');">Eliminar</button>
{% endblock %}

{% block form_fields %}
  <input type="hidden" name="next" value="{{ back_url }}">
  <div class="lead-summary-grid lead-summary-grid-compact">
    <div class="lead-summary-item">
      <span class="lead-summary-label">Fecha lead</span>
      <span class="lead-summary-value">{{ lead.created_time|date:"d/m/Y H:i"|default_if_none:"" }}</span>
    </div>
    <div class="lead-summary-item">
      <span class="lead-summary-label">Campaña</span>
      <span class="lead-summary-value">{{ lead.campaign_name|default_if_none:"" }}</span>
    </div>
    <div class="lead-summary-item">
      <span class="lead-summary-label">Formulario</span>
      <span class="lead-summary-value">{{ lead.form_name|default_if_none:"" }}</span>
    </div>
    <div class="lead-summary-item">
      <span class="lead-summary-label">Lead ID</span>
      <span class="lead-summary-value">{{ lead.leadgen_id }}</span>
    </div>
    <div class="lead-summary-item">
      <span class="lead-summary-label">Plataforma</span>
      <span class="lead-summary-value">{{ lead.platform|default_if_none:"" }}</span>
    </div>
    <div class="lead-summary-item">
      <span class="lead-summary-label">Orgánico</span>
      <span class="lead-summary-value">{{ lead.is_organic|yesno:"Si,No" }}</span>
    </div>
  </div>

  <div class="lead-ads-grid">
    <div class="lead-ads-item">
      <span class="lead-summary-label">Adset</span>
      <span class="lead-summary-value">{{ lead.adset_name|default_if_none:"" }}</span>
    </div>
    <div class="lead-ads-item">
      <span class="lead-summary-label">Anuncio</span>
      <span class="lead-summary-value">{{ lead.ad_name|default_if_none:"" }}</span>
    </div>
  </div>

  <div class="lead-fields-grid">
    {% for field in field_rows %}
      <div class="lead-fields-label">{{ field.label }}</div>
      <div class="lead-fields-value">
        <input type="text" value="{{ field.value }}" readonly class="input-readonly">
      </div>
    {% empty %}
      <p>Sin respuestas registradas.</p>
    {% endfor %}
  </div>
{% endblock %}
